FROM alpine:3.14

ENV POC_PATH /poc

# 创建容器内部的poc文件夹
RUN mkdir -p $POC_PATH

WORKDIR $POC_PATH

# 将poc.png复制到容器内部
COPY poc.png $POC_PATH/poc.png

# 复制md文件到容器中
COPY README.md $POC_PATH/README.md

# 复制tar进行容器
ADD 1.10.0.tar.gz $POC_PATH/

# 更换镜像
RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories

RUN apk add gcc

#RUN cd $POC_PATH/1.10.0
#
## 安装chafa
#RUN export CFLAGS="-g -O0 -lpthread -fsanitize=address"
#
#RUN export CXXFLAGS="-g -O0 -lpthread -fsanitize=address"
#
#RUN export LDFLAGS="-fsanitize=address"
#
#RUN ./autogen.sh
#
#RUN ./configure --disable-shared
#
#RUN make



